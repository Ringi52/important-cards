const translations = {
    cs: {
        // Navigation
        cards: "Karty",
        language: "Jazyk",
        tryIt: "Vyzkoušej",
        
        // Card titles
        dndDiceRoller: "DnD kostky",
        notepad: "Poznámkový blok",
        languageSwitcher: "Přepínač jazyků",
        montyHall: "Monty Hall simulátor",
        coinflip: "Hod mincí",
        rockPaperScissors: "Kámen nůžky papír",
        clickSpeedTest: "Test rychlosti klikání",
        startupIdea: "Startup nápad",
        uselessButton: "Zbytečné tlačítko",
        textConverter: "Převod textu",
        typingTest: "Test psaní",
        insultGenerator: "Generátor urážek",
        
        // Card descriptions
        notepadDesc: "Napiš si co chceš",
        montyHallDesc: "Klasický paradox",
        coinflipDesc: "Férová nebo nefér mince",
        rockPaperScissorsDesc: "AI se učí tvé vzorce",
        clickSpeedTestDesc: "Jak rychle klikáš?",
        startupIdeaDesc: "Bizarní nápady na startup",
        uselessButtonDesc: "Možná něco udělá",
        textConverterDesc: "Šifrování textu",
        typingTestDesc: "Rychlé psaní náročných vět",
        insultGeneratorDesc: "Roztomile urážlivé hlášky",
        
        // Common actions
        roll: "Hodit",
        save: "Uložit",
        clear: "Vymazat",
        copyAll: "Zkopírovat vše",
        paste: "Vložit",
        reset: "Resetovat",
        
        // Dice roller
        selectDiceType: "Vyberte typ kostky",
        numberOfDice: "Počet kostek",
        result: "Výsledek",
        
        // Notepad
        yourNotes: "Vaše poznámky",
        
        // Language switcher
        switchLanguage: "Přepnout jazyk",
        
        // Monty Hall
        chooseADoor: "Vyberte dveře",
        switchDoor: "Změnit výběr",
        keepDoor: "Ponechat výběr",
        youWon: "Vyhráli jste!",
        youLost: "Prohráli jste!",
        montyHallExplanation: "Monty Hall problém je slavný pravděpodobnostní paradox založený na televizní soutěži. Máte na výběr ze tří dveří, za jedněmi je auto, za dvěma kozy. Po výběru dveří moderátor otevře jedny z nevybraných dveří s kozou. Pak máte možnost změnit svůj výběr. Matematicky je lepší změnit výběr - šance na výhru se zvýší z 1/3 na 2/3.",
        
        // Coinflip
        fairness: "Férnost",
        fair: "Férová",
        unfair: "Nefér",
        flip: "Hodit",
        heads: "Panna",
        tails: "Orel",
        
        // Rock Paper Scissors
        rock: "Kámen",
        paper: "Papír",
        scissors: "Nůžky",
        youChose: "Vybrali jste",
        aiChose: "AI vybralo",
        tie: "Remíza",
        wins: "vítězství",
        losses: "prohry",
        ties: "remízy",
        
        // Click Speed Test
        clicksPerSecond: "kliků za sekundu",
        startTest: "Začít test",
        timeLeft: "Zbývající čas",
        clickMe: "Klikni na mě",
        
        // Other games
        generateIdea: "Generovat nápad",
        convertText: "Převést text",
        inputText: "Zadej text",
        startTyping: "Začít psaní",
        wpm: "slov za minutu",
        accuracy: "přesnost",
        generateInsult: "Generovat urážku",
        
        // Text converter
        conversionType: "Typ převodu",
        morse: "Morseovka",
        caesar: "Caesarova šifra",
        atbash: "Atbash",
        shift: "Posun",
        
        // Arrays
        typingSentences: [
            "Šel žluťoučký kůň do Vídně",
            "Příliš žluťoučký kůň úpěl ďábelské ódy",
            "Čtvrthrst zrn",
            "Smrž pln skvrn zvlhl z mlh",
            "Strč prst skrz krk"
        ],
        clickMessages: [
            "Wow, to bylo rychlé!",
            "Jsi klikací stroj!",
            "Tvoje prsty jsou v ohni!",
            "Klik klik klik!",
            "Jsi rychlejší než světlo!",
            "Myš se bojí!",
            "Tlačítko prosí o milost!",
            "Jsi klikací legenda!"
        ],
        startupIdeas: [
            "Airbnb pro domácí mazlíčky",
            "Uber pro doručování objetí",
            "Netflix pro sledování trávy jak roste",
            "Tinder pro párování ponožek",
            "Instagram pro kameny",
            "Spotify pro zvuky ticha",
            "Amazon pro prodej vzduchu",
            "LinkedIn pro mrtvé",
            "TikTok pro rostliny",
            "YouTube pro sledování barvy jak schne"
        ],
        uselessMessages: [
            "Nic se nestalo",
            "Stále nic",
            "Možná příště",
            "Zkus to znovu",
            "Nope",
            "Ani náhodou",
            "Ještě ne",
            "Zkus štěstí jinde"
        ],
        insults: [
            "Jsi tak roztomilý, že by tě i medvěd pohladil",
            "Máš mozek jako počítač... z roku 1995",
            "Jsi jako WiFi heslo - těžko zapamatovatelný",
            "Tvoje inteligence je jako tvoje vlasy - řídká",
            "Jsi tak pomalý, že by tě předběhl šnek na valiu",
            "Máš charisma jako mokrá ponožka"
        ]
    },
    en: {
        // Navigation
        cards: "Cards",
        language: "Language",
        tryIt: "Try it out",
        
        // Card titles
        dndDiceRoller: "DnD Dice Roller",
        notepad: "Notepad",
        languageSwitcher: "Language Switcher",
        montyHall: "Monty Hall Simulator",
        coinflip: "Coinflip",
        rockPaperScissors: "Rock Paper Scissors",
        clickSpeedTest: "Click Speed Test",
        startupIdea: "Startup Idea",
        uselessButton: "Useless Button",
        textConverter: "Text Converter",
        typingTest: "Typing Test",
        insultGenerator: "Insult Generator",
        
        // Card descriptions
        notepadDesc: "Write whatever you want",
        montyHallDesc: "Classic paradox",
        coinflipDesc: "Fair or unfair coin",
        rockPaperScissorsDesc: "AI learns your patterns",
        clickSpeedTestDesc: "How fast can you click?",
        startupIdeaDesc: "Bizarre startup ideas",
        uselessButtonDesc: "Maybe it does something",
        textConverterDesc: "Text encryption",
        typingTestDesc: "Fast typing of difficult sentences",
        insultGeneratorDesc: "Cutely offensive messages",
        
        // Common actions
        roll: "Roll",
        save: "Save",
        clear: "Clear",
        copyAll: "Copy All",
        paste: "Paste",
        reset: "Reset",
        
        // Dice roller
        selectDiceType: "Select dice type",
        numberOfDice: "Number of dice",
        result: "Result",
        
        // Notepad
        yourNotes: "Your notes",
        
        // Language switcher
        switchLanguage: "Switch Language",
        
        // Monty Hall
        chooseADoor: "Choose a door",
        switchDoor: "Switch door",
        keepDoor: "Keep door",
        youWon: "You won!",
        youLost: "You lost!",
        montyHallExplanation: "The Monty Hall problem is a famous probability puzzle based on a game show. You choose from three doors, one has a car, two have goats. After your choice, the host opens one of the remaining doors with a goat. Then you can switch your choice. Mathematically, it's better to switch - your winning chance increases from 1/3 to 2/3.",
        
        // Coinflip
        fairness: "Fairness",
        fair: "Fair",
        unfair: "Unfair",
        flip: "Flip",
        heads: "Heads",
        tails: "Tails",
        
        // Rock Paper Scissors
        rock: "Rock",
        paper: "Paper",
        scissors: "Scissors",
        youChose: "You chose",
        aiChose: "AI chose",
        tie: "Tie",
        wins: "wins",
        losses: "losses",
        ties: "ties",
        
        // Click Speed Test
        clicksPerSecond: "clicks per second",
        startTest: "Start Test",
        timeLeft: "Time left",
        clickMe: "Click Me",
        
        // Other games
        generateIdea: "Generate Idea",
        convertText: "Convert Text",
        inputText: "Enter text",
        startTyping: "Start Typing",
        wpm: "words per minute",
        accuracy: "accuracy",
        generateInsult: "Generate Insult",
        
        // Text converter
        conversionType: "Conversion Type",
        morse: "Morse Code",
        caesar: "Caesar Cipher",
        atbash: "Atbash",
        shift: "Shift",
        
        // Arrays
        typingSentences: [
            "The quick brown fox jumps over the lazy dog",
            "Pack my box with five dozen liquor jugs",
            "How vexingly quick daft zebras jump",
            "Bright vixens jump; dozy fowl quack",
            "Sphinx of black quartz, judge my vow"
        ],
        clickMessages: [
            "Wow, that was fast!",
            "You're a clicking machine!",
            "Your fingers are on fire!",
            "Click click click!",
            "You're faster than light!",
            "The mouse is scared!",
            "The button begs for mercy!",
            "You're a clicking legend!"
        ],
        startupIdeas: [
            "Airbnb for pets",
            "Uber for hug delivery",
            "Netflix for watching grass grow",
            "Tinder for matching socks",
            "Instagram for rocks",
            "Spotify for silence sounds",
            "Amazon for selling air",
            "LinkedIn for the dead",
            "TikTok for plants",
            "YouTube for watching paint dry"
        ],
        uselessMessages: [
            "Nothing happened",
            "Still nothing",
            "Maybe next time",
            "Try again",
            "Nope",
            "Not a chance",
            "Not yet",
            "Try your luck elsewhere"
        ],
        insults: [
            "You're so cute, even a bear would pet you",
            "You have a brain like a computer... from 1995",
            "You're like a WiFi password - hard to remember",
            "Your intelligence is like your hair - sparse",
            "You're so slow, a snail on valium would pass you",
            "You have the charisma of a wet sock"
        ]
    }
};

// Translation function
function t(key, lang = null) {
    const currentLang = lang || getCurrentLanguage();
    return translations[currentLang][key] || key;
}

// Get current language from localStorage or default to 'cs'
function getCurrentLanguage() {
    return localStorage.getItem('language') || 'cs';
}

// Set language and save to localStorage
function setLanguage(lang) {
    localStorage.setItem('language', lang);
    updatePageLanguage();
}

// Update all translatable elements on the page
function updatePageLanguage() {
    const lang = getCurrentLanguage();
    
    // Update language select
    const languageSelect = document.getElementById('language-select');
    if (languageSelect) {
        languageSelect.value = lang;
    }
    
    // Update all elements with translation IDs
    const translatableElements = document.querySelectorAll('[id^="card-"], [id$="-title"], [id$="-label"], [id^="try-it-"]');
    
    translatableElements.forEach(element => {
        const id = element.id;
        let translationKey = '';
        
        // Map element IDs to translation keys
        switch(id) {
            case 'cards-title':
                translationKey = 'cards';
                break;
            case 'language-label':
                translationKey = 'language';
                break;
            case 'card-dice':
                translationKey = 'dndDiceRoller';
                break;
            case 'card-notepad':
                translationKey = 'notepad';
                break;
            case 'card-notepad-desc':
                translationKey = 'notepadDesc';
                break;
            case 'card-language':
                translationKey = 'languageSwitcher';
                break;
            case 'card-monty':
                translationKey = 'montyHall';
                break;
            case 'card-monty-desc':
                translationKey = 'montyHallDesc';
                break;
            case 'card-coinflip':
                translationKey = 'coinflip';
                break;
            case 'card-coinflip-desc':
                translationKey = 'coinflipDesc';
                break;
            case 'card-rps':
                translationKey = 'rockPaperScissors';
                break;
            case 'card-rps-desc':
                translationKey = 'rockPaperScissorsDesc';
                break;
            case 'card-click':
                translationKey = 'clickSpeedTest';
                break;
            case 'card-click-desc':
                translationKey = 'clickSpeedTestDesc';
                break;
            case 'card-startup':
                translationKey = 'startupIdea';
                break;
            case 'card-startup-desc':
                translationKey = 'startupIdeaDesc';
                break;
            case 'card-useless':
                translationKey = 'uselessButton';
                break;
            case 'card-useless-desc':
                translationKey = 'uselessButtonDesc';
                break;
            case 'card-text':
                translationKey = 'textConverter';
                break;
            case 'card-text-desc':
                translationKey = 'textConverterDesc';
                break;
            case 'card-typing':
                translationKey = 'typingTest';
                break;
            case 'card-typing-desc':
                translationKey = 'typingTestDesc';
                break;
            case 'card-insult':
                translationKey = 'insultGenerator';
                break;
            case 'card-insult-desc':
                translationKey = 'insultGeneratorDesc';
                break;
            default:
                if (id.startsWith('try-it-')) {
                    translationKey = 'tryIt';
                }
                break;
        }
        
        if (translationKey) {
            element.textContent = t(translationKey);
        }
    });
    
    // Update document language attribute
    document.documentElement.lang = lang;
}
